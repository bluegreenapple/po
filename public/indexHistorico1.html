<head>
    
    <!-- JS -->
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.min.js"></script>
    <script src="//angular-ui.github.io/bootstrap/ui-bootstrap-tpls-0.13.0.js"></script>
    
    <script src="/js/bundleHist.js"></script>
    <script src="/js/bundle.js"></script>
    <script src="/js/bundleAnalises.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-smart-table/2.1.3/smart-table.js"></script>

    <!-- CSS -->
    <link href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" rel="stylesheet">
    <link href="css/smarttable.css" rel="stylesheet">


</head>

<div ng-app='appHist' class = "mainContainer">

<!-- NAVBAR PRINCIPAL -->
<nav class="navbar navbar-inverse navbar-fixed-top">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="#">Gestão de Transformadores (DGA)</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
         <ul class="nav navbar-nav navbar-right">
        
        <li><a href="/alarmes">Alarmes</a></li>
        <li><a href="/equipamentos">Equipamentos</a></li>
        <li><a href="/analises">Análises</a></li>
        <li><a href="/diagnosticos">Diagnóstico</a></li>
        <li><a href="/historico">Histórico</a></li>
        <li><a href="/favoritos">Favoritos</a></li>
        <!-- <li><a href="#">Profile</a></li> -->
        <li><a href="#">vinicius.nunes@smarttecheletrica.com.br<span class="caret"></span></a></li>
      </ul>
      
    </div>
  </div>
</nav><!-- FIM NAVBAR PRINCIPAL --> 

<div class="container">

    <div ng-controller='HistoricoController'><!-- DIAG CONTROLLER -->
    
    <!-- EQUIPAMENTO -->
    <div class="bs-docs-section">
      <h1 class="page-header">Equipamento:</h1>

        <div class = "">
            <form class="form-inline" role="form">
              <div class="form-group">
                <h4>Número de Série:</h4>
                
                <!-- <input type="text" class="form-control input-lg" autofocus ng-model="selectedTag" ng-change = "changedValue()" ng-selected="changedValue()" typeahead="tag for tag in tags | filter:$viewValue | limitTo:8" class="form-control"> -->
                
                <select class="input-lg" ng-model="selectedNSerie" ng-options="nSerie for nSerie in nSeries track by nSerie"  ng-selected="changedValue()" ><option value="">-- escolha o número de Série --</option></select>
              </div>
                
                
            </form>
        </div>

        
    
    

   


    </div><!-- FIM EQUIPAMENTO -->

    <!-- HISTORICO -->
    <div class="bs-docs-section">
    <h1 class="page-header">Histórico 
    </h1>

<br>
    <div ng-show="loading">
        <alert type='warning'>Escolha um número de série de equipamento para mostrar seu histórico aqui...</alert>
    </div>


    <div ng-show="!loading">

        <!-- SMART-TABLE -->
        <div st-safe-src="analises" st-table='displayedAnalises'>

          
           <!-- 
          
            <ul class="navbar-right list-unstyled">   
              <li><input st-search='' st-delay='0' type="text" class="form-control" placeholder="Buscar..." autofocus></li>
            </ul>   -->
          

          
          
             
          


              <!-- TABELA DE AnaliseS-->
              <table class = 'table table-striped'>
                <tr>
                    <!-- <th>id</th> -->
                    
                    <!-- <th>Tag do Equipamento</th> -->
                    <th st-sort="" st-sort-default="reverse">Tag</th>
                    <th st-sort="getters.dataAnal" st-sort-default="reverse">Data da Análise</th>
                    <th st-sort="nDaAnaliseDoLaboratorio">Número da Análise</th>
                    <!-- <th st-sort="laboratorio">Laboratório</th> -->
                    
                    <!-- <th>Modelo</th>
                    <th>Fabricante</th>
                    <th>Local</th> -->
                    
                    
                 </tr>
                  <tr ng-repeat="analise in analises">
                    
                    <td>{{ analise.tagDoEquipamento }}</td>
                    <td>{{ analise.dataDaAnalise | date: "dd/MM/yyyy" : "UTC"}}</td>
                    <td>{{ analise.nDaAnaliseDoLaboratorio }}</td>
                    <!-- <td>{{ analise.laboratorio }}</td> -->
                    
              

                  </tr>
                </table><!-- FIM TABELA DE AnaliseS-->

                <p class="text-center" ng-show="loading">
                    <span class="fa fa-spinner fa-spin fa-3x"></span>
                </p>


            </div>
            <!-- FIM SMART-TABLE -->
        
    </div>
    

    </div><!-- FIM DIAGNOSTICO -->    
    </div><!-- FIM DIAG CONTROLLER -->    
    
    
</div>