<head>
    
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/diagnostico.css">

    <!-- SPELLS -->
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.min.js"></script>
    <script src="//angular-ui.github.io/bootstrap/ui-bootstrap-tpls-0.13.0.js"></script>
    <script src="/js/bundleDiag.js"></script>
    <script src="/js/services/diagnosticos.js"></script> 
    <script src="/js/bundleAnalises.js"></script> 
    
</head>

<div ng-app='appDiag' class = "mainContainer">

<!-- NAVBAR PRINCIPAL -->
<nav class="navbar navbar-inverse navbar-fixed-top">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="#">Gestão de Transformadores (DGA)</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
         <ul class="nav navbar-nav navbar-right">
        
        <li><a href="/alarmes">Alarmes</a></li>
        <li><a href="/equipamentos">Equipamentos</a></li>
        <li><a href="/analises">Análises</a></li>
        <li><a href="/diagnosticos">Diagnóstico</a></li>
        <li><a href="/historico">Histórico</a></li>
        <!-- <li><a href="#">Profile</a></li> -->
        <li><a href="#">vinicius.nunes@smarttecheletrica.com.br<span class="caret"></span></a></li>
      </ul>
      
    </div>
  </div>
</nav><!-- FIM NAVBAR PRINCIPAL --> 

<div class="container">

    <div ng-controller='DiagController'><!-- DIAG CONTROLLER -->
    
    <!-- EQUIPAMENTO -->
    <div class="bs-docs-section">
      <h1 class="page-header">Equipamento:</h1>

        <div class = "">
            <form class="form-inline" role="form">
              <div class="form-group">
                <h4>Tag:</h4>
                
                <input type="text" class="form-control input-lg" autofocus ng-model="selectedTag" ng-change = "changedValue()" typeahead="tag for tag in tags | filter:$viewValue | limitTo:8" class="form-control">
                
              </div>
                
            <!-- <button type="submit" class="btn btn-primary btn-lg" ng-click="findUltimaAnalise()">Procurar</button> -->
                
            </form>
        </div>

        
    
    

   


    </div><!-- FIM EQUIPAMENTO -->

    <!-- DIAGNOSTICO -->
    <div class="bs-docs-section">
    <h1 class="page-header">Histórico das Análises <small>tag: {{selectedTag}}</small>
        </h1>

    <div ng-show="loading">
        <alert type='danger'>Nenhuma análise foi cadastrada para Tag...</alert>
    </div>

    <tabset class = "tabs" ng-show="!loading">
        <tab heading="Duval"><!-- DUVAL TAB -->
            <div ng-controller='DuvalController'><!-- DUVAL CONTROLLER -->
                <!-- <br> -->
                <ul class="navbar-right list-unstyled">   
                    <img ng-src="images/xls.png" class="imageButton" ng-click="open(lg)">
                    <img ng-src="images/pdf.png" class="imageButton" ng-click="open(lg)">
                </ul> 

                <h2>Descrição:</h2>
                <div>
        Este critério é um método especial para diagnóstico de falhas já que está
    baseado na visualização da localização dos gases dissolvidos em um mapa
    triangular. Unicamente três gases dissolvidos são necessários CH4, C2H4 e C2H2.
    Este critério permite diagnosticar quatro tipos de falhas que são descargas
    parciais, arco de alta e baixa energia e pontos quentes de várias faixas de
    temperatura, relacionando os percentuais obtidos para os gases
    característicos utilizando as seguintes relações: 
                </div>

                <table class = 'table table-striped'>
                    <tr>
                        <th>m</th>
                        <th>a</th>
                        <th>y</th>
                        <th>Tipo de Falha</th>   
                    </tr>
                    <tr>
                        <td>0-96</td>
                        <td>0-16</td>
                        <td>0-100</td>
                        <td>Pontos Quentes</td>
                    </tr>
                    <tr>
                        <td>0-59</td>
                        <td>16-75</td>
                        <td>25-84</td>
                        <td>Arco de Alta Energia</td>
                    </tr>
                    <tr>
                        <td>0-84</td>
                        <td>16-100</td>
                        <td>0-25</td>
                        <td>Descargas Internas</td>
                    </tr>
                </table>
                <div>
        Visto que neste critério não é indicada nenhuma condição de envelhecimento normal, a implementação cuidadosa deste critério resulta sempre em diagnóstico de uma das três falhas. Devido a este problema, antes de aplicar este método deve ser verificado se a evolução dos gases está dentro dos limites considerados normais pela empresa.
                </div>
                <h2>Diagnóstico Duval:</h2>


                <!-- <form>
                  
                    <h2>ch4: {{formData.ch4}}</h2>
                    <input type='number' ng-model='formData.ch4'>
                    <h2>c2h2: {{formData.c2h2}}</h2>
                    <input type='number' ng-model='formData.c2h2'>
                    <h2>c2h4: {{formData.c2h4}}</h2>
                    <input type='number' ng-model='formData.c2h4'>
                    <button type="submit" class="btn btn-primary btn-lg" ng-click="calculaM()">Calcular</button> 
                </form> -->

                <table class = 'table table-striped'>
                <tr>
                    <th>m</th>
                    <th>a</th>
                    <th>y</th>
                    <th>Tipo de Falha</th>   
                </tr>
                <tr>
                    <td>{{ m(analise) | number:1}}</td>
                    <td>{{ a(analise) | number:1}}</td>
                    <td>{{ y(analise) | number:1}}</td>
                    <td>{{ diagnostico(analise) }}</td>
                </tr>
                </table>
                
            </div> <!-- FIM DUVAL CONTROLLER --> 
        </tab><!-- FIM DUVAL TAB --> 
        <tab heading="Doble">Under Construction...</tab>
        <tab heading="Iec 60599">Under Construction...</tab>
        <tab heading="Laborelec">Under Construction...</tab>
        <tab heading="Pugh">Under Construction...</tab>
        <tab heading="Rogers">Under Construction...</tab>
        <tab heading="Dornemburg">Under Construction...</tab>
    
    </tabset>

    </div><!-- FIM DIAGNOSTICO -->    
    </div><!-- FIM DIAG CONTROLLER -->    
    
    
</div>